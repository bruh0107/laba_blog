{% extends 'main.html' %}
{% block content %}
{% for post in page_obj %}
  <div class="post">
    <h3>–ê–≤—Ç–æ—Ä: {{ post.author_name }}</h3>
    <p>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ post.created_at|date:"d M Y, H:i" }}</p>
    <p>{{ post.content }}</p>
    <p>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: {{ post.comments.count }}</p>
    <form method="post" action="{% url 'blog:like_post' post.id %}">
      {% csrf_token %}
      <button type="submit">
        {% if user in post.likes.all %}
          üëç –õ–∞–π–∫–Ω—É—Ç–æ ({{ post.like_count }})
        {% else %}
          üëç –õ–∞–π–∫–Ω—É—Ç—å ({{ post.like_count }})
        {% endif %}
      </button>
    </form>
  </div>
  <hr>
{% endfor %}

<div class="pagination">
    <div class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; 1</a>
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}
        <span class="current">
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">—Å–ª–µ–¥—É—é—â–∞—è</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">–ø–æ—Å–ª–µ–¥–Ω—è—è &raquo;</a>
        {% endif %}
    </div>
</div>
{% endblock %}